(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{323:function(t,e,r){},325:function(t,e,r){"use strict";r(323)},327:function(t,e,r){"use strict";r.r(e);var o=r(9),n=(r(49),r(208),r(14),{data:function(){return{item:"",singleQuantity:1,swiperOptionTop:{loop:!0,slidesPerView:1,spaceBetween:10,effect:"fade",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},category:"",states:[],pricee:"",discounted_price:"",state_id:"",indexOfState:"",auth:!1}},computed:{product:function(){return this.states=this.$store.getters.getOneProductStates,this.category=this.$store.getters.getOneCategory,this.settingPrice(),this.item},checkIsLiked:function(){var t=this;return!!this.$store.state.wishlist.find((function(e){return t.product.id===e.id}))}},methods:{beforeOpen:function(t){var e=t.params;this.item=e},priceByState:function(t){this.indexOfState=t,this.settingPrice()},settingPrice:function(){for(var i in this.states)i==this.indexOfState&&(this.pricee=this.states[i].price,this.discounted_price=this.states[i].discounted_price,this.state_id=this.states[i].id)},discountedPrice:function(t){return t.price-t.price*t.discount/100},addToWishlist:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,n,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(localStorage.getItem("116111107101110")){r.next=2;break}return r.abrupt("return",window.location="/login-register");case 2:if(o=localStorage.getItem("117115101114"),n=JSON.parse(o),data={user:n.id,product:t.id},e.$axios.setToken(localStorage.getItem("116111107101110"),"Bearer"),!e.$store.state.wishlist.find((function(e){return t.id===e.id}))){r.next=14;break}return r.next=9,e.$axios.delete("/bookmark",{data:data});case 9:r.sent,e.$store.dispatch("removeProductFromWishlist",t),e.$notify({title:"این محصول از لیست علاقمندیهای شما حذف شد!"}),r.next=19;break;case 14:return r.next=16,e.$axios.post("/bookmark",data);case 16:r.sent,e.$notify({title:"این محصول به لیست علاقمندیهای شما افزوده شد!"}),e.$store.dispatch("addToWishlist",t);case 19:case"end":return r.stop()}}),r)})))()}},mounted:function(){localStorage.getItem("116111107101110")&&(this.auth=!0)}}),c=(r(325),r(34)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("modal",{attrs:{name:"quickview",width:"50%",scrollable:!0,height:"auto"},on:{"before-open":t.beforeOpen}},[r("div",{staticClass:"quickview-wrapper row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"product-details-slider"},[r("div",{staticClass:"product-details-img"},[r("div",{staticClass:"product-badges"},[t.product.discount>0?r("span",{staticClass:"product-label purple"},[t._v(t._s(t.product.discount)+"%")]):t._e()]),t._v(" "),r("swiper",{attrs:{options:t.swiperOptionTop}},[r("div",{staticClass:"large-img swiper-slide"},[r("img",{staticClass:"img-fluid",attrs:{src:"https://api.madein-iran.com/public"+t.product.image,alt:t.product.name}})])])],1)])]),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"product-details-content"},[r("div",{attrs:{slot:"top-right"},slot:"top-right"},[r("button",{staticClass:"modal-close",on:{click:function(e){return t.$modal.hide("quickview")}}},[r("i",{staticClass:"fa fa-times"})])]),t._v(" "),r("h2",[t._v(t._s(t.product.name))]),t._v(" "),t.auth&&t.states.length?r("div",{staticClass:"product-details-price"},[r("span",{staticStyle:{"font-family":"persianNumber"}},[t._v(" "+t._s(t.discounted_price.replace(/\B(?=(\d{3})+(?!\d))/g,","))+" تومان ")]),t._v(" "),t.product.discount>0?r("span",{staticClass:"old"},[t._v(t._s(t.pricee.replace(/\B(?=(\d{3})+(?!\d))/g,","))+" تومان")]):t._e()]):t._e(),t._v(" "),r("p",[t._v(t._s(t.product.description_excerpt))]),t._v(" "),t.auth?t._e():r("h6",[r("a",{attrs:{href:"/login-register"}},[t._v("برای مشاهده قیمت وارد حساب کاربری خود شوید.")])]),t._v(" "),t.states.length?r("div",{staticClass:"pro-details-size-color"},[r("div",{staticClass:"pro-details-size-wrap"},[r("h6",{staticClass:"label"},[t._v("ظرفیت ها")]),t._v(" "),r("div",{staticClass:"pro-details-size-content"},t._l(t.product.state,(function(e,o){return r("label",{key:o,staticClass:"radio"},[r("input",{attrs:{type:"radio",name:"sizeGroup",checked:""},on:{click:function(e){return t.priceByState(o)}}}),t._v(" "),r("span",{staticClass:"check-mark"},[t._v(t._s(e.type))])])})),0)])]):t._e(),t._v(" "),r("div",{staticClass:"pro-details-quality"},[r("div",{staticClass:"pro-details-wishlist"},[r("button",{on:{click:function(e){return t.addToWishlist(t.product)}}},[r("i",{class:!0===t.checkIsLiked?"fa fa-heart":"fa fa-heart-o"})])])]),t._v(" "),r("div",{staticClass:"pro-details-meta"},[r("span",{staticClass:"label"},[t._v("دسته بندی :")]),t._v(" "),r("ul",[r("li",[r("n-link",{attrs:{to:"/shop?category="}},[t._v(t._s(t.category))])],1)])]),t._v(" "),r("div",{staticClass:"pro-details-meta"},[r("span",{staticClass:"label"},[t._v("تگ ها :")]),t._v(" "),r("ul",t._l(t.product.tag,(function(e,o){return r("li",{key:o},[r("n-link",{attrs:{to:"/shop?tag="+e}},[t._v(t._s(e.name)+",")])],1)})),0)])])])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);